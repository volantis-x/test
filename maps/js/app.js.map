{"version":3,"file":"../../js/app.js","names":["document","addEventListener","volantis","requestAnimationFrame","VolantisApp","init","subscribe","VolantisFancyBox","highlightKeyWords","startFromURL","locationHash","window","location","hash","locationID","decodeURI","split","replace","target","getElementById","setTimeout","startsWith","scroll","to","addTop","dom","header","offsetHeight","behavior","observer","Object","freeze","fn","scrollCorrection","clientHeight","onresize","documentElement","clientWidth","isMobile","isMobileOld","setGlobalHeaderMenuEvent","setHeader","setHeaderSearch","push","scrollEventCallBack","event","$","on","scrolltoElement","bodyAnchor","sidebar","querySelector","querySelectorAll","length","classList","add","GLOBAL_CONFIG","for_page","includes","for_post","lastupd","webinfo","enable","friendlyShow","innerHTML","utilTimeAgo","lastupdate","BirthDay","Date","runtime","data","timeold","getTime","daysold","Math","floor","unit","body","oncopy","messageCopyright","restData","setIsMobile","elem","correction","top","getBoundingClientRect","scrollTop","showHeaderPoint","offsetTop","getScrollTop","topBtn","addClass","del","removeClass","pdata","ispage","wrapper","tocTarget","toc","mPhoneList","forEach","e","hide","setScrollAnchor","click","preventDefault","stopPropagation","stopImmediatePropagation","find","html","title","comment","commentTarget","cleanContentVisibility","style","display","toggleClass","setHeaderMenuSelection","headerMenu","element","li","div","idname","pathname","page","match","index","id","currentTarget","parentElement","childNodes","prototype","toString","call","array","children","show","origin","baseURI","setPageHeaderMenuEvent","switcher","search","setTabs","tabs","$tab","className","footnotes","ref","i","targetID","utilCopyCode","Selector","node","insertAdjacentHTML","_BtnCopy","previousSibling","onclick","_icon","_span","focus","range","Range","selectNodeContents","getSelection","removeAllRanges","addRange","str","utilWriteClipText","then","remove","innerText","catch","message","icon","navigator","clipboard","writeText","Promise","resolve","input","createElement","setAttribute","appendChild","select","result","execCommand","removeChild","reject","dateTimeStamp","minute","hour","day","week","month","diffValue","minC","hourC","dayC","weekC","monthC","parseInt","datetime","setTime","Nyear","getFullYear","Nmonth","getMonth","Ndate","getDate","getHours","getMinutes","getSeconds","option","done","tozashMessage","time","position","transitionIn","transitionOut","messageColor","titleColor","backgroundColor","zindex","displayMode","iziToast","layout","closeOnEscape","plugins","default","timeout","onClosed","css","cdn","izitoast_css","js","izitoast_js","question","success","cancel","tozashQuestion","close","overlay","quection","buttons","instance","toast","closedBy","hideMessage","messageCopyrightShow","copyright","constructor","checkMain","this","Hash","groupAll","caption","fancybox","slide","thumbEl","alt","wheel","contentClick","Thumbs","showOnStart","Images","content","_ref","imgElement","pictureElement","closest","hasAttribute","getAttribute","sources","getElementsByTagName","source","outerHTML","Panzoom","maxScale","panMode","mouseMoveFactor","mouseMoveFriction","Toolbar","left","middle","right","groupBind","checkFancybox","Fancybox","fancybox_css","fancybox_js","elementHandling","selectors","groupName","$item","$link","src","dataset","append","cloneNode","replaceWith","bind","unbind","group","Set","ele","name","params","URL","href","searchParams","get","keywords","post","start","scrollToFirstHighlightKeywordMark","scrollToNextHighlightKeywordMark","markNextId","markNum","console","log","walk","createTreeWalker","NodeFilter","SHOW_TEXT","allNodes","nextNode","currentNode","parentNode","matches","indexOfNode","getIndexByWord","nodeValue","slice","mergeIntoSlice","highlightText","highlightStyle","words","text","caseSensitive","included","word","wordLen","startPosition","toLowerCase","indexOf","sort","end","item","hits","count","wordEnd","shift","size","val","createTextNode","substring","mark","substr","insertBefore","background","scrollToPrevHighlightKeywordMark","cleanHighlightStyle","DOMController","visible","type","param","removeList","list","attrName","attrValue","setAttributeList","setStyle","styleName","styleValue","setStyleList","fadeIn","visibility","opacity","transition","fadeOut","fadeToggle","fadeToggleList","hasClass","c","RegExp","toggleClassList","VolantisRequest","timeoutFetch","url","ms","requestInit","controller","AbortController","signal","abort","promise","fetch","timer","finally","clearTimeout","err","Error","Fetch","async","resp","ok","status","json","POST","method","formData","FormData","keys","key","String","Get","URLSearchParams"],"sources":["js/app.js"],"mappings":"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","ignoreList":[],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", function () {\n  volantis.requestAnimationFrame(() => {\n    VolantisApp.init();\n    VolantisApp.subscribe();\n    new VolantisFancyBox();\n    highlightKeyWords.startFromURL();\n    locationHash();\n  });\n});\n\n/* 锚点定位 */\nconst locationHash = () => {\n  if (window.location.hash) {\n    let locationID = decodeURI(window.location.hash.split('#')[1]).replace(/\\ /g, '-');\n    let target = document.getElementById(locationID);\n    if (target) {\n      setTimeout(() => {\n        if (window.location.hash.startsWith('#fn')) { // hexo-reference https://github.com/volantis-x/hexo-theme-volantis/issues/647\n          volantis.scroll.to(target, { addTop: - volantis.dom.header.offsetHeight - 5, behavior: 'instant', observer: true })\n        } else {\n          // 锚点中上半部有大片空白 高度大概是 volantis.dom.header.offsetHeight\n          volantis.scroll.to(target, { addTop: 5, behavior: 'instant', observer: true })\n        }\n      }, 1000)\n    }\n  }\n}\nObject.freeze(locationHash);\n\n/* Main */\nconst VolantisApp = (() => {\n  const fn = {},\n    COPYHTML = '<button class=\"btn-copy\" data-clipboard-snippet=\"\"><i class=\"fa-solid fa-copy\"></i><span>COPY</span></button>';\n  let scrollCorrection = 80;\n\n  fn.init = () => {\n    if (volantis.dom.header) {\n      scrollCorrection = volantis.dom.header.clientHeight + 16;\n    }\n\n    window.onresize = () => {\n      if (document.documentElement.clientWidth < 500) {\n        volantis.isMobile = 1;\n      } else {\n        volantis.isMobile = 0;\n      }\n      if (volantis.isMobile != volantis.isMobileOld) {\n        fn.setGlobalHeaderMenuEvent();\n        fn.setHeader();\n        fn.setHeaderSearch();\n      }\n    }\n    volantis.scroll.push(fn.scrollEventCallBack, \"scrollEventCallBack\")\n  }\n\n  fn.event = () => {\n    volantis.dom.$(document.getElementById(\"scroll-down\"))?.on('click', function () {\n      fn.scrolltoElement(volantis.dom.bodyAnchor);\n    });\n\n    // 如果 sidebar 为空，隐藏 sidebar。\n    const sidebar = document.querySelector(\"#l_side\")\n    if (sidebar) {\n      const sectionList = sidebar.querySelectorAll(\"section\")\n      if (!sectionList.length) {\n        document.querySelector(\"#l_main\").classList.add(\"no_sidebar\")\n      }\n    }\n\n    // 站点信息 最后活动日期\n    if (volantis.GLOBAL_CONFIG.sidebar.for_page.includes('webinfo') || volantis.GLOBAL_CONFIG.sidebar.for_post.includes('webinfo')) {\n      const lastupd = volantis.GLOBAL_CONFIG.sidebar.webinfo.lastupd;\n      if (!!document.getElementById('last-update-show') && lastupd.enable && lastupd.friendlyShow) {\n        document.getElementById('last-update-show').innerHTML = fn.utilTimeAgo(volantis.GLOBAL_CONFIG.lastupdate);\n      }\n    }\n\n    // 站点信息 运行时间\n    if (!!document.getElementById('webinfo-runtime-count')) {\n      let BirthDay = new Date(volantis.GLOBAL_CONFIG.sidebar.webinfo.runtime.data);\n      let timeold = (new Date().getTime() - BirthDay.getTime());\n      let daysold = Math.floor(timeold / (24 * 60 * 60 * 1000));\n      document.getElementById('webinfo-runtime-count').innerHTML = `${daysold} ${volantis.GLOBAL_CONFIG.sidebar.webinfo.runtime.unit}`;\n    }\n\n    // 消息提示 复制时弹出\n    document.body.oncopy = function () {\n      fn.messageCopyright()\n    };\n  }\n\n  fn.restData = () => {\n    scrollCorrection = volantis.dom.header ? volantis.dom.header.clientHeight + 16 : 80;\n  }\n\n  fn.setIsMobile = () => {\n    if (document.documentElement.clientWidth < 500) {\n      volantis.isMobile = 1;\n      volantis.isMobileOld = 1;\n    } else {\n      volantis.isMobile = 0;\n      volantis.isMobileOld = 0;\n    }\n  }\n\n  // 校正页面定位（被导航栏挡住的区域）\n  fn.scrolltoElement = (elem, correction = scrollCorrection) => {\n    volantis.scroll.to(elem, {\n      top: elem.getBoundingClientRect().top + document.documentElement.scrollTop - correction\n    })\n  }\n\n  // 滚动事件回调们\n  fn.scrollEventCallBack = () => {\n    // 【移动端 PC】//////////////////////////////////////////////////////////////////////\n\n    // 显示/隐藏 Header导航 topBtn 【移动端 PC】\n    const showHeaderPoint = volantis.dom.bodyAnchor.offsetTop - scrollCorrection;\n    const scrollTop = volantis.scroll.getScrollTop(); // 滚动条距离顶部的距离\n\n    // topBtn\n    if (volantis.dom.topBtn) {\n      if (scrollTop > volantis.dom.bodyAnchor.offsetTop) {\n        volantis.dom.topBtn.addClass('show');\n        // 向上滚动高亮 topBtn\n        if (volantis.scroll.del > 0) {\n          volantis.dom.topBtn.removeClass('hl');\n        } else {\n          volantis.dom.topBtn.addClass('hl');\n        }\n      } else {\n        volantis.dom.topBtn.removeClass('show').removeClass('hl');\n      }\n    }\n\n    // Header导航\n    if (volantis.dom.header) {\n      if (scrollTop - showHeaderPoint > -1) {\n        volantis.dom.header.addClass('show');\n      } else {\n        volantis.dom.header.removeClass('show');\n      }\n    }\n\n    // 决定一二级导航栏的切换 【向上滚动切换为一级导航栏；向下滚动切换为二级导航栏】  【移动端 PC】\n    if (pdata.ispage && volantis.dom.wrapper) {\n      if (volantis.scroll.del > 0 && scrollTop > 100) { // 向下滚动\n        volantis.dom.wrapper.addClass('sub'); // <---- 二级导航显示\n      } else if (volantis.scroll.del < 0) { // 向上滚动\n        volantis.dom.wrapper.removeClass('sub'); // <---- 取消二级导航显示 一级导航显示\n      }\n    }\n\n    // 【移动端】//////////////////////////////////////////////////////////////////////\n    if (volantis.isMobile) {\n      // 【移动端】 页面滚动  隐藏 移动端toc目录按钮\n      if (pdata.ispage && volantis.dom.tocTarget && volantis.dom.toc) {\n        volantis.dom.tocTarget.removeClass('active');\n        volantis.dom.toc.removeClass('active');\n      }\n      // 【移动端】 滚动时隐藏子菜单\n      if (volantis.dom.mPhoneList) {\n        volantis.dom.mPhoneList.forEach(function (e) {\n          volantis.dom.$(e).hide();\n        })\n      }\n    }\n  }\n\n  // 设置滚动锚点\n  fn.setScrollAnchor = () => {\n    // click topBtn 滚动至bodyAnchor 【移动端 PC】\n    if (volantis.dom.topBtn && volantis.dom.bodyAnchor) {\n      volantis.dom.topBtn.click(e => {\n        e.preventDefault();\n        e.stopPropagation();\n        fn.scrolltoElement(volantis.dom.bodyAnchor);\n        e.stopImmediatePropagation();\n      });\n    }\n\n  }\n\n  // 设置导航栏\n  fn.setHeader = () => {\n    // !!! 此处的Dom对象需要重载 !!!\n    if (!pdata.ispage) return;\n\n    // 填充二级导航文章标题 【移动端 PC】\n    volantis.dom.wrapper.find('.nav-sub .title').html(document.title.split(\" - \")[0]);\n\n    // ====== bind events to every btn =========\n    // 评论按钮 【移动端 PC】\n    volantis.dom.comment = volantis.dom.$(document.getElementById(\"s-comment\")); // 评论按钮  桌面端 移动端\n    volantis.dom.commentTarget = volantis.dom.$(document.querySelector('#l_main article#comments')); // 评论区域\n    if (volantis.dom.commentTarget) {\n      volantis.dom.comment.click(e => { // 评论按钮点击后 跳转到评论区域\n        e.preventDefault();\n        e.stopPropagation();\n        volantis.cleanContentVisibility();\n        fn.scrolltoElement(volantis.dom.commentTarget);\n        e.stopImmediatePropagation();\n      });\n    } else volantis.dom.comment.style.display = 'none'; // 关闭了评论，则隐藏评论按钮\n\n    // 移动端toc目录按钮 【移动端】\n    if (volantis.isMobile) {\n      volantis.dom.toc = volantis.dom.$(document.getElementById(\"s-toc\")); // 目录按钮  仅移动端\n      volantis.dom.tocTarget = volantis.dom.$(document.querySelector('#l_side .toc-wrapper')); // 侧边栏的目录列表\n      if (volantis.dom.tocTarget) {\n        // 点击移动端目录按钮 激活目录按钮 显示侧边栏的目录列表\n        volantis.dom.toc.click((e) => {\n          e.stopPropagation();\n          volantis.dom.tocTarget.toggleClass('active');\n          volantis.dom.toc.toggleClass('active');\n        });\n        // 点击空白 隐藏\n        volantis.dom.$(document).click(function (e) {\n          e.stopPropagation();\n          if (volantis.dom.tocTarget) {\n            volantis.dom.tocTarget.removeClass('active');\n          }\n          volantis.dom.toc.removeClass('active');\n        });\n      } else if (volantis.dom.toc) volantis.dom.toc.style.display = 'none'; // 隐藏toc目录按钮\n    }\n  }\n\n  // 设置导航栏菜单选中状态  【移动端 PC】\n  fn.setHeaderMenuSelection = () => {\n    // !!! 此处的Dom对象需要重载 !!!\n    volantis.dom.headerMenu = volantis.dom.$(document.querySelectorAll('#l_header .navigation,#l_cover .navigation,#l_side .navigation')); // 导航列表\n\n    // 先把已经激活的取消激活\n    volantis.dom.headerMenu.forEach(element => {\n      let li = volantis.dom.$(element).find('li a.active')\n      if (li)\n        li.removeClass('active')\n      let div = volantis.dom.$(element).find('div a.active')\n      if (div)\n        div.removeClass('active')\n    });\n\n    // replace '%' '/' '.'\n    var idname = location.pathname.replace(/\\/|%|\\./g, '');\n    if (idname.length == 0) {\n      idname = 'home';\n    }\n    var page = idname.match(/page\\d{0,}$/g);\n    if (page) {\n      page = page[0];\n      idname = idname.split(page)[0];\n    }\n    var index = idname.match(/index.html/);\n    if (index) {\n      index = index[0];\n      idname = idname.split(index)[0];\n    }\n    // 转义字符如 [, ], ~, #, @\n    idname = idname.replace(/(\\[|\\]|~|#|@)/g, '\\\\$1');\n    if (idname && volantis.dom.headerMenu) {\n      volantis.dom.headerMenu.forEach(element => {\n        // idname 不能为数字开头, 加一个 action- 前缀\n        let id = element.querySelector(\"[active-action=action-\" + idname + \"]\")\n        if (id) {\n          volantis.dom.$(id).addClass('active')\n        }\n      });\n    }\n  }\n\n  // 设置全局事件\n  fn.setGlobalHeaderMenuEvent = () => {\n    if (volantis.isMobile) {\n      // 【移动端】 关闭已经展开的子菜单 点击展开子菜单\n      document.querySelectorAll('#l_header .m-phone li').forEach(function (e) {\n        if (e.querySelector(\".list-v\")) {\n          // 点击菜单\n          volantis.dom.$(e).click(function (e) {\n            e.stopPropagation();\n            // 关闭已经展开的子菜单\n            e.currentTarget.parentElement.childNodes.forEach(function (e) {\n              if (Object.prototype.toString.call(e) == '[object HTMLLIElement]') {\n                e.childNodes.forEach(function (e) {\n                  if (Object.prototype.toString.call(e) == '[object HTMLUListElement]') {\n                    volantis.dom.$(e).hide()\n                  }\n                })\n              }\n            })\n            // 点击展开子菜单\n            let array = e.currentTarget.children\n            for (let index = 0; index < array.length; index++) {\n              const element = array[index];\n              if (volantis.dom.$(element).title === 'menu') { // 移动端菜单栏异常\n                volantis.dom.$(element).display = \"flex\"      // https://github.com/volantis-x/hexo-theme-volantis/issues/706\n              } else {\n                volantis.dom.$(element).show()\n              }\n            }\n          }, 0);\n        }\n      })\n    } else {\n      // 【PC端】 hover时展开子菜单，点击时[target.baseURI==origin时]隐藏子菜单? 现有逻辑大部分情况不隐藏子菜单\n      document.querySelectorAll('#wrapper .m-pc li > a[href]').forEach(function (e) {\n        volantis.dom.$(e.parentElement).click(function (e) {\n          e.stopPropagation();\n          if (e.target.origin == e.target.baseURI) {\n            document.querySelectorAll('#wrapper .m-pc .list-v').forEach(function (e) {\n              volantis.dom.$(e).hide(); // 大概率不会执行\n            })\n          }\n        }, 0);\n      })\n    }\n    fn.setPageHeaderMenuEvent();\n  }\n\n  // 【移动端】隐藏子菜单\n  fn.setPageHeaderMenuEvent = () => {\n    if (!volantis.isMobile) return\n    // 【移动端】 点击空白处隐藏子菜单\n    volantis.dom.$(document).click(function (e) {\n      volantis.dom.mPhoneList.forEach(function (e) {\n        volantis.dom.$(e).hide();\n      })\n    });\n  }\n\n  // 设置导航栏搜索框 【移动端】\n  fn.setHeaderSearch = () => {\n    if (!volantis.isMobile) return;\n    if (!volantis.dom.switcher) return;\n    // 点击移动端搜索按钮\n    volantis.dom.switcher.click(function (e) {\n      e.stopPropagation();\n      volantis.dom.header.toggleClass('z_search-open'); // 激活移动端搜索框\n      volantis.dom.switcher.toggleClass('active'); // 移动端搜索按钮\n    });\n    // 点击空白取消激活\n    volantis.dom.$(document).click(function (e) {\n      volantis.dom.header.removeClass('z_search-open');\n      volantis.dom.switcher.removeClass('active');\n    });\n    // 移动端点击搜索框 停止事件传播\n    volantis.dom.search.click(function (e) {\n      e.stopPropagation();\n    });\n  }\n\n  // 设置 tabs 标签  【移动端 PC】\n  fn.setTabs = () => {\n    let tabs = document.querySelectorAll('#l_main .tabs .nav-tabs')\n    if (!tabs) return\n    tabs.forEach(function (e) {\n      e.querySelectorAll('a').forEach(function (e) {\n        volantis.dom.$(e).on('click', (e) => {\n          e.preventDefault();\n          e.stopPropagation();\n          const $tab = volantis.dom.$(e.target.parentElement.parentElement.parentElement);\n          $tab.find('.nav-tabs .active').removeClass('active');\n          volantis.dom.$(e.target.parentElement).addClass('active');\n          $tab.find('.tab-content .active').removeClass('active');\n          $tab.find(e.target.className).addClass('active');\n          return false;\n        });\n      })\n    })\n  }\n\n  // hexo-reference 页脚跳转 https://github.com/volantis-x/hexo-theme-volantis/issues/647\n  fn.footnotes = () => {\n    let ref = document.querySelectorAll('#l_main .footnote-backref, #l_main .footnote-ref > a');\n    ref.forEach(function (e, i) {\n      ref[i].click = () => { }; // 强制清空原 click 事件\n      volantis.dom.$(e).on('click', (e) => {\n        e.stopPropagation();\n        e.preventDefault();\n        let targetID = decodeURI(e.target.hash.split('#')[1]).replace(/\\ /g, '-');\n        let target = document.getElementById(targetID);\n        if (target) {\n          volantis.scroll.to(target, { addTop: - volantis.dom.header.offsetHeight - 5, behavior: 'instant' })\n        }\n      });\n    })\n  }\n\n  // 工具类：代码块复制\n  fn.utilCopyCode = (Selector) => {\n    document.querySelectorAll(Selector).forEach(node => {\n      const test = node.insertAdjacentHTML(\"beforebegin\", COPYHTML);\n      const _BtnCopy = node.previousSibling;\n      _BtnCopy.onclick = e => {\n        e.stopPropagation();\n        const _icon = _BtnCopy.querySelector('i');\n        const _span = _BtnCopy.querySelector('span');\n\n        node.focus();\n        const range = new Range();\n        range.selectNodeContents(node);\n        document.getSelection().removeAllRanges();\n        document.getSelection().addRange(range);\n\n        const str = document.getSelection().toString();\n        fn.utilWriteClipText(str).then(() => {\n          fn.messageCopyright();\n          _BtnCopy.classList.add('copied');\n          _icon.classList.remove('fa-copy');\n          _icon.classList.add('fa-check-circle');\n          _span.innerText = \"COPIED\";\n          setTimeout(() => {\n            _icon.classList.remove('fa-check-circle');\n            _icon.classList.add('fa-copy');\n            _span.innerText = \"COPY\";\n          }, 2000)\n        }).catch(e => {\n          VolantisApp.message('系统提示', e, {\n            icon: 'fa fa-exclamation-circle red'\n          });\n          _BtnCopy.classList.add('copied-failed');\n          _icon.classList.remove('fa-copy');\n          _icon.classList.add('fa-exclamation-circle');\n          _span.innerText = \"COPY FAILED\";\n          setTimeout(() => {\n            _icon.classList.remove('fa-exclamation-circle');\n            _icon.classList.add('fa-copy');\n            _span.innerText = \"COPY\";\n          })\n        })\n      }\n    });\n  }\n\n  // 工具类：复制字符串到剪切板\n  fn.utilWriteClipText = (str) => {\n    return navigator.clipboard\n      .writeText(str)\n      .then(() => {\n        return Promise.resolve()\n      })\n      .catch(e => {\n        const input = document.createElement('textarea');\n        input.setAttribute('readonly', 'readonly');\n        document.body.appendChild(input);\n        input.innerHTML = str;\n        input.select();\n        try {\n          let result = document.execCommand('copy')\n          document.body.removeChild(input);\n          if (!result || result === 'unsuccessful') {\n            return Promise.reject('复制文本失败!')\n          } else {\n            return Promise.resolve()\n          }\n        } catch (e) {\n          document.body.removeChild(input);\n          return Promise.reject(\n            '当前浏览器不支持复制功能，请检查更新或更换其他浏览器操作!'\n          )\n        }\n      })\n  }\n\n  // 工具类：返回时间间隔\n  fn.utilTimeAgo = (dateTimeStamp) => {\n    const minute = 1e3 * 60, hour = minute * 60, day = hour * 24, week = day * 7, month = day * 30;\n    const now = new Date().getTime();\n    const diffValue = now - dateTimeStamp;\n    const minC = diffValue / minute,\n      hourC = diffValue / hour,\n      dayC = diffValue / day,\n      weekC = diffValue / week,\n      monthC = diffValue / month;\n    if (diffValue < 0) {\n      result = \"\"\n    } else if (monthC >= 1 && monthC < 7) {\n      result = \" \" + parseInt(monthC) + \" 月前\"\n    } else if (weekC >= 1 && weekC < 4) {\n      result = \" \" + parseInt(weekC) + \" 周前\"\n    } else if (dayC >= 1 && dayC < 7) {\n      result = \" \" + parseInt(dayC) + \" 天前\"\n    } else if (hourC >= 1 && hourC < 24) {\n      result = \" \" + parseInt(hourC) + \" 小时前\"\n    } else if (minC >= 1 && minC < 60) {\n      result = \" \" + parseInt(minC) + \" 分钟前\"\n    } else if (diffValue >= 0 && diffValue <= minute) {\n      result = \"刚刚\"\n    } else {\n      const datetime = new Date();\n      datetime.setTime(dateTimeStamp);\n      const Nyear = datetime.getFullYear();\n      const Nmonth = datetime.getMonth() + 1 < 10 ? \"0\" + (datetime.getMonth() + 1) : datetime.getMonth() + 1;\n      const Ndate = datetime.getDate() < 10 ? \"0\" + datetime.getDate() : datetime.getDate();\n      const Nhour = datetime.getHours() < 10 ? \"0\" + datetime.getHours() : datetime.getHours();\n      const Nminute = datetime.getMinutes() < 10 ? \"0\" + datetime.getMinutes() : datetime.getMinutes();\n      const Nsecond = datetime.getSeconds() < 10 ? \"0\" + datetime.getSeconds() : datetime.getSeconds();\n      result = Nyear + \"-\" + Nmonth + \"-\" + Ndate\n    }\n    return result;\n  }\n\n  // 消息提示：标准\n  fn.message = (title, message, option = {}, done = null) => {\n    if (typeof iziToast === \"undefined\") {\n      volantis.css(volantis.GLOBAL_CONFIG.cdn.izitoast_css)\n      volantis.js(volantis.GLOBAL_CONFIG.cdn.izitoast_js, () => {\n        tozashMessage(title, message, option, done);\n      });\n    } else {\n      tozashMessage(title, message, option, done);\n    }\n    function tozashMessage(title, message, option, done) {\n      const {\n        icon,\n        time,\n        position,\n        transitionIn,\n        transitionOut,\n        messageColor,\n        titleColor,\n        backgroundColor,\n        zindex,\n        displayMode\n      } = option;\n      iziToast.show({\n        layout: '2',\n        icon: 'Fontawesome',\n        closeOnEscape: 'true',\n        displayMode: displayMode || 'replace',\n        transitionIn: transitionIn || volantis.GLOBAL_CONFIG.plugins.message.transitionIn,\n        transitionOut: transitionOut || volantis.GLOBAL_CONFIG.plugins.message.transitionOut,\n        messageColor: messageColor || volantis.GLOBAL_CONFIG.plugins.message.messageColor,\n        titleColor: titleColor || volantis.GLOBAL_CONFIG.plugins.message.titleColor,\n        backgroundColor: backgroundColor || volantis.GLOBAL_CONFIG.plugins.message.backgroundColor,\n        zindex: zindex || volantis.GLOBAL_CONFIG.plugins.message.zindex,\n        icon: icon || volantis.GLOBAL_CONFIG.plugins.message.icon.default,\n        timeout: time || volantis.GLOBAL_CONFIG.plugins.message.time.default,\n        position: position || volantis.GLOBAL_CONFIG.plugins.message.position,\n        title: title,\n        message: message,\n        onClosed: () => {\n          if (done) done();\n        },\n      });\n    }\n  }\n\n  // 消息提示：询问\n  fn.question = (title, message, option = {}, success = null, cancel = null, done = null) => {\n    if (typeof iziToast === \"undefined\") {\n      volantis.css(volantis.GLOBAL_CONFIG.cdn.izitoast_css)\n      volantis.js(volantis.GLOBAL_CONFIG.cdn.izitoast_js, () => {\n        tozashQuestion(title, message, option, success, cancel, done);\n      });\n    } else {\n      tozashQuestion(title, message, option, success, cancel, done);\n    }\n\n    function tozashQuestion(title, message, option, success, cancel, done) {\n      const {\n        icon,\n        time,\n        position,\n        transitionIn,\n        transitionOut,\n        messageColor,\n        titleColor,\n        backgroundColor,\n        zindex\n      } = option;\n      iziToast.question({\n        id: 'question',\n        icon: 'Fontawesome',\n        close: false,\n        overlay: true,\n        displayMode: 'once',\n        position: 'center',\n        messageColor: messageColor || volantis.GLOBAL_CONFIG.plugins.message.messageColor,\n        titleColor: titleColor || volantis.GLOBAL_CONFIG.plugins.message.titleColor,\n        backgroundColor: backgroundColor || volantis.GLOBAL_CONFIG.plugins.message.backgroundColor,\n        zindex: zindex || volantis.GLOBAL_CONFIG.plugins.message.zindex,\n        icon: icon || volantis.GLOBAL_CONFIG.plugins.message.icon.quection,\n        timeout: time || volantis.GLOBAL_CONFIG.plugins.message.time.quection,\n        title: title,\n        message: message,\n        buttons: [\n          ['<button><b>是</b></button>', (instance, toast) => {\n            instance.hide({ transitionOut: transitionOut || 'fadeOut' }, toast, 'button');\n            if (success) success(instance, toast)\n          }],\n          ['<button><b>否</b></button>', (instance, toast) => {\n            instance.hide({ transitionOut: transitionOut || 'fadeOut' }, toast, 'button');\n            if (cancel) cancel(instance, toast)\n          }]\n        ],\n        onClosed: (instance, toast, closedBy) => {\n          if (done) done(instance, toast, closedBy);\n        }\n      });\n    }\n  }\n\n  // 消息提示：隐藏\n  fn.hideMessage = (done = null) => {\n    const toast = document.querySelector('.iziToast');\n    if (!toast) {\n      if (done) done()\n      return;\n    }\n\n    if (typeof iziToast === \"undefined\") {\n      volantis.css(volantis.GLOBAL_CONFIG.cdn.izitoast_css)\n      volantis.js(volantis.GLOBAL_CONFIG.cdn.izitoast_js, () => {\n        hideMessage(done);\n      });\n    } else {\n      hideMessage(done);\n    }\n\n    function hideMessage(done) {\n      iziToast.hide({}, toast);\n      if (done) done();\n    }\n  }\n\n  // 消息提示：复制\n  let messageCopyrightShow = 0;\n  fn.messageCopyright = () => {\n    // 消息提示 复制时弹出\n    if (volantis.GLOBAL_CONFIG.plugins.message.enable\n      && volantis.GLOBAL_CONFIG.plugins.message.copyright.enable\n      && messageCopyrightShow < 1) {\n      messageCopyrightShow++;\n      VolantisApp.message(volantis.GLOBAL_CONFIG.plugins.message.copyright.title,\n        volantis.GLOBAL_CONFIG.plugins.message.copyright.message, {\n        icon: volantis.GLOBAL_CONFIG.plugins.message.copyright.icon,\n        transitionIn: 'flipInX',\n        transitionOut: 'flipOutX',\n        displayMode: 1\n      });\n    }\n  }\n\n  return {\n    init: () => {\n      fn.init();\n      fn.event();\n    },\n    subscribe: () => {\n      fn.setIsMobile();\n      fn.setHeader();\n      fn.setHeaderMenuSelection();\n      fn.setGlobalHeaderMenuEvent();\n      fn.setHeaderSearch();\n      fn.setScrollAnchor();\n      fn.setTabs();\n      fn.footnotes();\n    },\n    utilCopyCode: fn.utilCopyCode,\n    utilWriteClipText: fn.utilWriteClipText,\n    utilTimeAgo: fn.utilTimeAgo,\n    message: fn.message,\n    question: fn.question,\n    hideMessage: fn.hideMessage,\n    messageCopyright: fn.messageCopyright,\n    scrolltoElement: fn.scrolltoElement\n  }\n})()\nObject.freeze(VolantisApp);\n\n/* FancyBox */\nclass VolantisFancyBox {\n  constructor(checkMain = true) {\n    this.option = {\n      Hash: false,\n      groupAll: true,\n      caption: (fancybox, slide) => slide.thumbEl?.alt || \"\",\n      wheel: \"slide\",\n      contentClick: 'iterateZoom',\n      Thumbs: {\n        showOnStart: false\n      },\n      Images: {\n        content: (_ref, slide) => {\n          const imgElement = slide.thumbEl;\n          const pictureElement = imgElement.closest('picture');\n          if (imgElement.hasAttribute('data-src')) {\n            imgElement.setAttribute('src', imgElement.getAttribute('data-src'));\n          }\n          if (pictureElement) {\n            pictureElement.classList.remove(\"lazy\");\n            let sources = pictureElement.getElementsByTagName('source');\n            for (let source of sources) {\n              if (source.hasAttribute('data-srcset')) {\n                source.setAttribute('srcset', source.getAttribute('data-srcset'));\n              }\n            }\n            return pictureElement.outerHTML;\n          } else {\n            return imgElement.outerHTML;\n          }\n        },\n        Panzoom: {\n          maxScale: 1.5,\n          panMode: \"mousemove\",\n          mouseMoveFactor: 1.1,\n          mouseMoveFriction: 0.12,\n        }\n      },\n      Toolbar: {\n        display: {\n          left: [\"infobar\"],\n          middle: [\n            \"zoomIn\",\n            \"zoomOut\",\n            \"toggle1to1\",\n            \"rotateCCW\",\n            \"rotateCW\",\n            \"flipX\",\n            \"flipY\",\n          ],\n          right: [\"slideshow\", \"download\", \"thumbs\", \"close\"],\n        },\n      }\n    };\n    this.#init(checkMain);\n  }\n\n  #init(checkMain) {\n    if (!document.querySelector(\".md .gallery img, .fancybox\") && checkMain) return;\n    this.groupBind();\n  }\n\n  async #checkFancybox(done) {\n    if (typeof Fancybox === \"undefined\") {\n      await volantis.css(volantis.GLOBAL_CONFIG.cdn.fancybox_css);\n      await volantis.js(volantis.GLOBAL_CONFIG.cdn.fancybox_js);\n      done.call(this);\n    } else {\n      done.call(this);\n    }\n  }\n\n  #elementHandling(selectors, groupName) {\n    if (!selectors) return;\n    document.querySelectorAll(selectors).forEach($item => {\n      if ($item.hasAttribute('fancybox')) return;\n      $item.setAttribute('fancybox', '');\n      const $link = document.createElement('a');\n      $link.setAttribute('href', $item.src || $item.dataset?.src);\n      $link.setAttribute('data-caption', $item.alt || '');\n      $link.setAttribute('data-fancybox', groupName);\n      $link.classList.add('fancybox');\n      $link.append($item.cloneNode());\n      $item.replaceWith($link);\n    });\n  }\n\n  bind(selectors) {\n    this.#checkFancybox(() => {\n      Fancybox?.unbind(selectors);\n      Fancybox?.bind(selectors, this.option);\n    });\n  }\n\n  groupBind(selectors, groupName = 'default') {\n    this.#checkFancybox(() => {\n      this.#elementHandling(selectors, groupName);\n      const group = new Set();\n      document.querySelectorAll('.gallery').forEach(ele => {\n        if (ele.querySelector(\"img\")) {\n          group.add(ele.getAttribute('data-group') || 'default');\n        }\n      });\n      if (groupName) group.add(groupName);\n      group.forEach(name => {\n        Fancybox?.unbind(`[data-fancybox=\"${name}\"]`);\n        Fancybox?.bind(`[data-fancybox=\"${name}\"]`, this.option);\n      });\n    });\n  }\n}\n\n// highlightKeyWords 与 搜索功能搭配 https://github.com/next-theme/hexo-theme-next/blob/eb194a7258058302baf59f02d4b80b6655338b01/source/js/third-party/search/local-search.js\n// Question: 锚点稳定性未知\n// ToDo: 查找模式\n// 0. (/////////要知道浏览器自带全页面查找功能 CTRL + F)\n// 1. 右键开启查找模式 / 导航栏菜单开启?? / CTRL + F ???\n// 2. 查找模式面板 (可拖动? or 固定?)\n// 3. keyword mark id 从 0 开始编号 查找下一处 highlightKeyWords.scrollToNextHighlightKeywordMark() 查找上一处 scrollToPrevHighlightKeywordMark() 循环查找(取模%)\n// 4. 可输入修改 查找关键词 keywords(type:list)\n// 5. 区分大小写 caseSensitive (/ 全字匹配?? / 正则匹配??)\n// 6. 在选定区域中查找 querySelector ??\n// 7. 关闭查找模式\n// 8. 搜索跳转 (URL 入口) 自动开启查找模式 调用 scrollToNextHighlightKeywordMark()\nconst highlightKeyWords = (() => {\n  let fn = {}\n  fn.markNum = 0\n  fn.markNextId = -1\n  fn.startFromURL = () => {\n    const params = decodeURI(new URL(location.href).searchParams.get('keyword'));\n    const keywords = params ? params.split(' ') : [];\n    const post = document.querySelector('#l_main');\n    if (keywords.length == 1 && keywords[0] == \"null\") {\n      return;\n    }\n    fn.start(keywords, post); // 渲染耗时较长\n    fn.scrollToFirstHighlightKeywordMark()\n  }\n  fn.scrollToFirstHighlightKeywordMark = () => {\n    volantis.cleanContentVisibility();\n    let target = fn.scrollToNextHighlightKeywordMark(\"0\");\n    if (!target) {\n      volantis.requestAnimationFrame(fn.scrollToFirstHighlightKeywordMark)\n    }\n  }\n  fn.scrollToNextHighlightKeywordMark = (id) => {\n    // Next Id\n    let input = id || (fn.markNextId + 1) % fn.markNum;\n    fn.markNextId = parseInt(input)\n    let target = document.getElementById(\"keyword-mark-\" + fn.markNextId);\n    if (!target) {\n      fn.markNextId = (fn.markNextId + 1) % fn.markNum;\n      target = document.getElementById(\"keyword-mark-\" + fn.markNextId);\n    }\n    if (target) {\n      volantis.scroll.to(target, { addTop: - volantis.dom.header.offsetHeight - 5, behavior: 'instant' })\n    }\n    // Current target\n    return target\n  }\n  fn.scrollToPrevHighlightKeywordMark = (id) => {\n    // Prev Id\n    let input = id || (fn.markNextId - 1 + fn.markNum) % fn.markNum;\n    fn.markNextId = parseInt(input)\n    let target = document.getElementById(\"keyword-mark-\" + fn.markNextId);\n    if (!target) {\n      fn.markNextId = (fn.markNextId - 1 + fn.markNum) % fn.markNum;\n      target = document.getElementById(\"keyword-mark-\" + fn.markNextId);\n    }\n    if (target) {\n      volantis.scroll.to(target, { addTop: - volantis.dom.header.offsetHeight - 5, behavior: 'instant' })\n    }\n    // Current target\n    return target\n  }\n  fn.start = (keywords, querySelector) => {\n    fn.markNum = 0\n    if (!keywords.length || !querySelector || (keywords.length == 1 && keywords[0] == \"null\")) return;\n    console.log(keywords);\n    const walk = document.createTreeWalker(querySelector, NodeFilter.SHOW_TEXT, null);\n    const allNodes = [];\n    while (walk.nextNode()) {\n      if (!walk.currentNode.parentNode.matches('button, select, textarea')) allNodes.push(walk.currentNode);\n    }\n    allNodes.forEach(node => {\n      const [indexOfNode] = fn.getIndexByWord(keywords, node.nodeValue);\n      if (!indexOfNode.length) return;\n      const slice = fn.mergeIntoSlice(0, node.nodeValue.length, indexOfNode);\n      fn.highlightText(node, slice, 'keyword');\n      fn.highlightStyle()\n    });\n  }\n  fn.getIndexByWord = (words, text, caseSensitive = false) => {\n    const index = [];\n    const included = new Set();\n    words.forEach(word => {\n      const div = document.createElement('div');\n      div.innerText = word;\n      word = div.innerHTML;\n\n      const wordLen = word.length;\n      if (wordLen === 0) return;\n      let startPosition = 0;\n      let position = -1;\n      if (!caseSensitive) {\n        text = text.toLowerCase();\n        word = word.toLowerCase();\n      }\n      while ((position = text.indexOf(word, startPosition)) > -1) {\n        index.push({ position, word });\n        included.add(word);\n        startPosition = position + wordLen;\n      }\n    });\n    index.sort((left, right) => {\n      if (left.position !== right.position) {\n        return left.position - right.position;\n      }\n      return right.word.length - left.word.length;\n    });\n    return [index, included];\n  };\n  fn.mergeIntoSlice = (start, end, index) => {\n    let item = index[0];\n    let { position, word } = item;\n    const hits = [];\n    const count = new Set();\n    while (position + word.length <= end && index.length !== 0) {\n      count.add(word);\n      hits.push({\n        position,\n        length: word.length\n      });\n      const wordEnd = position + word.length;\n\n      index.shift();\n      while (index.length !== 0) {\n        item = index[0];\n        position = item.position;\n        word = item.word;\n        if (wordEnd > position) {\n          index.shift();\n        } else {\n          break;\n        }\n      }\n    }\n    return {\n      hits,\n      start,\n      end,\n      count: count.size\n    };\n  };\n  fn.highlightText = (node, slice, className) => {\n    const val = node.nodeValue;\n    let index = slice.start;\n    const children = [];\n    for (const { position, length } of slice.hits) {\n      const text = document.createTextNode(val.substring(index, position));\n      index = position + length;\n      let mark = document.createElement('mark');\n      mark.className = className;\n      mark = fn.highlightStyle(mark)\n      mark.appendChild(document.createTextNode(val.substr(position, length)));\n      children.push(text, mark);\n    }\n    node.nodeValue = val.substring(index, slice.end);\n    children.forEach(element => {\n      node.parentNode.insertBefore(element, node);\n    });\n  }\n  fn.highlightStyle = (mark) => {\n    if (!mark) return;\n    mark.id = \"keyword-mark-\" + fn.markNum;\n    fn.markNum++;\n    mark.style.background = \"transparent\";\n    mark.style[\"border-bottom\"] = \"1px dashed #ff2a2a\";\n    mark.style[\"color\"] = \"#ff2a2a\";\n    mark.style[\"font-weight\"] = \"bold\";\n    return mark\n  }\n  fn.cleanHighlightStyle = () => {\n    document.querySelectorAll(\".keyword\").forEach(mark => {\n      mark.style.background = \"transparent\";\n      mark.style[\"border-bottom\"] = null;\n      mark.style[\"color\"] = null;\n      mark.style[\"font-weight\"] = null;\n    })\n  }\n  return {\n    start: (keywords, querySelector) => {\n      fn.start(keywords, querySelector)\n    },\n    startFromURL: () => {\n      fn.startFromURL()\n    },\n    scrollToNextHighlightKeywordMark: (id) => {\n      fn.scrollToNextHighlightKeywordMark(id)\n    },\n    scrollToPrevHighlightKeywordMark: (id) => {\n      fn.scrollToPrevHighlightKeywordMark(id)\n    },\n    cleanHighlightStyle: () => {\n      fn.cleanHighlightStyle()\n    },\n  }\n})()\nObject.freeze(highlightKeyWords);\n\n/* DOM 控制 */\nconst DOMController = {\n  /**\n   * 控制元素显隐\n   */\n  visible: (ele, type = true) => {\n    if (ele) ele.style.display = type === true ? 'block' : 'none';\n  },\n\n  /**\n   * 移除元素\n   */\n  remove: (param) => {\n    const node = document.querySelectorAll(param);\n    node.forEach(ele => {\n      ele.remove();\n    })\n  },\n\n  removeList: (list) => {\n    list.forEach(param => {\n      DOMController.remove(param)\n    })\n  },\n\n  /**\n   * 设置属性\n   */\n  setAttribute: (param, attrName, attrValue) => {\n    const node = document.querySelectorAll(param);\n    node.forEach(ele => {\n      ele.setAttribute(attrName, attrValue)\n    })\n  },\n\n  setAttributeList: (list) => {\n    list.forEach(item => {\n      DOMController.setAttribute(item[0], item[1], item[2])\n    })\n  },\n\n  /**\n   * 设置样式\n   */\n  setStyle: (param, styleName, styleValue) => {\n    const node = document.querySelectorAll(param);\n    node.forEach(ele => {\n      ele.style[styleName] = styleValue;\n    })\n  },\n\n  setStyleList: (list) => {\n    list.forEach(item => {\n      DOMController.setStyle(item[0], item[1], item[2])\n    })\n  },\n\n  fadeIn: (e) => {\n    if (!e) return;\n    e.style.visibility = \"visible\";\n    e.style.opacity = 1;\n    e.style.display = \"block\";\n    e.style.transition = \"all 0.5s linear\";\n    return e\n  },\n\n  fadeOut: (e) => {\n    if (!e) return;\n    e.style.visibility = \"hidden\";\n    e.style.opacity = 0;\n    e.style.display = \"none\";\n    e.style.transition = \"all 0.5s linear\";\n    return e\n  },\n\n  fadeToggle: (e) => {\n    if (!e) return;\n    if (e.style.visibility == \"hidden\") {\n      e = DOMController.fadeIn(e)\n    } else {\n      e = DOMController.fadeOut(e)\n    }\n    return e\n  },\n\n  fadeToggleList: (list) => {\n    list.forEach(param => {\n      DOMController.fadeToggle(param)\n    })\n  },\n\n  hasClass: (e, c) => {\n    if (!e) return;\n    return e.className.match(new RegExp('(\\\\s|^)' + c + '(\\\\s|$)'));\n  },\n\n  addClass: (e, c) => {\n    if (!e) return;\n    e.classList.add(c);\n    return e\n  },\n\n  removeClass: (e, c) => {\n    if (!e) return;\n    e.classList.remove(c);\n    return e\n  },\n\n  toggleClass: (e, c) => {\n    if (!e) return;\n    if (DOMController.hasClass(e, c)) {\n      DOMController.removeClass(e, c)\n    } else {\n      DOMController.addClass(e, c)\n    }\n    return e\n  },\n\n  toggleClassList: (list) => {\n    list.forEach(item => {\n      DOMController.toggleClass(item[0], item[1])\n    })\n  }\n}\nObject.freeze(DOMController);\n\nconst VolantisRequest = {\n  timeoutFetch: (url, ms, requestInit) => {\n    const controller = new AbortController()\n    requestInit.signal?.addEventListener('abort', () => controller.abort())\n    let promise = fetch(url, { ...requestInit, signal: controller.signal })\n    if (ms > 0) {\n      const timer = setTimeout(() => controller.abort(), ms)\n      promise.finally(() => { clearTimeout(timer) })\n    }\n    promise = promise.catch((err) => {\n      throw ((err || {}).name === 'AbortError') ? new Error(`Fetch timeout: ${url}`) : err\n    })\n    return promise\n  },\n\n  Fetch: async (url, requestInit, timeout = 15000) => {\n    const resp = await VolantisRequest.timeoutFetch(url, timeout, requestInit);\n    if (!resp.ok) throw new Error(`Fetch error: ${url} | ${resp.status}`);\n    let json = await resp.json()\n    if (!json.success) throw json\n    return json\n  },\n\n  POST: async (url, data) => {\n    const requestInit = {\n      method: 'POST',\n    }\n    if (data) {\n      const formData = new FormData();\n      Object.keys(data).forEach(key => formData.append(key, String(data[key])))\n      requestInit.body = formData;\n    }\n    const json = await VolantisRequest.Fetch(url, requestInit)\n    return json.data;\n  },\n\n  Get: async (url, data) => {\n    const json = await VolantisRequest.Fetch(url + (data ? (`?${new URLSearchParams(data)}`) : ''), {\n      method: 'GET'\n    })\n  }\n}\nObject.freeze(VolantisRequest);\n"]}